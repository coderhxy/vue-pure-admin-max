var H=Object.defineProperty,J=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var b=(a,t,l)=>t in a?H(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,k=(a,t)=>{for(var l in t||(t={}))O.call(t,l)&&b(a,l,t[l]);if(C)for(var l of C(t))Q.call(t,l)&&b(a,l,t[l]);return a},y=(a,t)=>J(a,K(t));import{useRole as W}from"./hook3.js";import{g as X}from"./utils.js";import{P as Y}from"./index78.js";import{u as p}from"./hooks.js";import{d as Z}from"./delete.js";import{R as ee}from"./refresh.js";import{d as oe,a as v,e as i,A as te,f as x,k as S,i as o,w as n,u as e,h as m,B as ne,g as w,t as le,j as ae,_ as re}from"./index.js";import"./detail.vue_vue_type_script_setup_true_lang.js";import"./vue-json-pretty.js";import"./system.js";import"./sortable.esm.js";import"./epTheme.js";import"./collapse2.js";const ie={width:1024,height:1024,body:'<path fill="currentColor" d="M512 160c320 0 512 352 512 352S832 864 512 864S0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288c52.608 79.872 211.456 288 436.8 288c225.28 0 384.128-208.064 436.8-288c-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448a224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160s-71.744-160-160-160z"/>'},se=ie,ce={class:"main"},me={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},de={class:"flex-auto"},pe={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},fe=oe({name:"SystemLog",__name:"index",setup(a){const t=v(),l=v(),{form:d,loading:u,columns:V,dataList:R,pagination:z,selectedNum:_,onSearch:g,onDetail:D,clearAll:P,resetForm:B,onbatchDel:N,handleSizeChange:T,onSelectionCancel:q,handleCellDblclick:$,handleCurrentChange:A,handleSelectionChange:I}=W(l);return(ue,s)=>{const L=i("el-input"),f=i("el-form-item"),U=i("el-date-picker"),c=i("el-button"),j=i("el-form"),h=i("el-popconfirm"),E=i("pure-table"),F=te("motion-fade");return x(),S("div",ce,[o(j,{ref_key:"formRef",ref:t,inline:!0,model:e(d),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:n(()=>[o(f,{label:"所属模块",prop:"module"},{default:n(()=>[o(L,{modelValue:e(d).module,"onUpdate:modelValue":s[0]||(s[0]=r=>e(d).module=r),placeholder:"请输入所属模块",clearable:"",class:"!w-[170px]"},null,8,["modelValue"])]),_:1}),o(f,{label:"请求时间",prop:"requestTime"},{default:n(()=>[o(U,{modelValue:e(d).requestTime,"onUpdate:modelValue":s[1]||(s[1]=r=>e(d).requestTime=r),shortcuts:e(X)(),type:"datetimerange","range-separator":"至","start-placeholder":"开始日期时间","end-placeholder":"结束日期时间"},null,8,["modelValue","shortcuts"])]),_:1}),o(f,null,{default:n(()=>[o(c,{type:"primary",icon:e(p)("ri:search-line"),loading:e(u),onClick:e(g)},{default:n(()=>[m(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(c,{icon:e(p)(e(ee)),onClick:s[2]||(s[2]=r=>e(B)(t.value))},{default:n(()=>[m(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(Y),{title:"系统日志（仅演示，操作后不生效）",columns:e(V),onRefresh:e(g)},{buttons:n(()=>[o(h,{title:"确定要删除所有日志数据吗？",onConfirm:e(P)},{reference:n(()=>[o(c,{type:"danger",icon:e(p)(e(Z))},{default:n(()=>[m(" 清空日志 ")]),_:1},8,["icon"])]),_:1},8,["onConfirm"])]),default:n(({size:r,dynamicColumns:M})=>[e(_)>0?ne((x(),S("div",me,[w("div",de,[w("span",pe," 已选 "+le(e(_))+" 项 ",1),o(c,{type:"primary",text:"",onClick:e(q)},{default:n(()=>[m(" 取消选择 ")]),_:1},8,["onClick"])]),o(h,{title:"是否确认删除?",onConfirm:e(N)},{reference:n(()=>[o(c,{type:"danger",text:"",class:"mr-1"},{default:n(()=>[m(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[F]]):ae("",!0),o(E,{ref_key:"tableRef",ref:l,"row-key":"id","align-whole":"center","table-layout":"auto",loading:e(u),size:r,adaptive:"",adaptiveConfig:{offsetBottom:108},data:e(R),columns:M,pagination:y(k({},e(z)),{size:r}),"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(I),onPageSizeChange:e(T),onPageCurrentChange:e(A),onCellDblclick:e($)},{operation:n(({row:G})=>[o(c,{class:"reset-margin !outline-none",link:"",type:"primary",size:r,icon:e(p)(e(se)),onClick:_e=>e(D)(G)},{default:n(()=>[m(" 详情 ")]),_:2},1032,["size","icon","onClick"])]),_:2},1032,["loading","size","data","columns","pagination","onSelectionChange","onPageSizeChange","onPageCurrentChange","onCellDblclick"])]),_:1},8,["columns","onRefresh"])])}}}),Pe=re(fe,[["__scopeId","data-v-280df620"]]);export{Pe as default};
