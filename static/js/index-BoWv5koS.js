var ge=Object.defineProperty,ve=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var O=(r,a,l)=>a in r?ge(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,E=(r,a)=>{for(var l in a||(a={}))xe.call(a,l)&&O(r,l,a[l]);if(j)for(var l of j(a))ke.call(a,l)&&O(r,l,a[l]);return r},L=(r,a)=>ve(r,be(a));var H=(r,a,l)=>new Promise((v,h)=>{var b=c=>{try{p(l.next(c))}catch(m){h(m)}},x=c=>{try{p(l.throw(c))}catch(m){h(m)}},p=c=>c.done?v(c.value):Promise.resolve(c.value).then(b,x);p((l=l.apply(r,a)).next())});import{useTenantPackage as ye}from"./hook-CmPl6wJB.js";import{P as Ce}from"./index-BQh30_Aa.js";import{u as f}from"./hooks-BwxItA89.js";import{d as we,p as Ve,a as g,m as Re,aM as Se,y as $e,aN as Ie,gm as Pe,e as i,A as De,f as Q,k as W,i as o,w as s,u as e,h as _,g as d,v as C,$ as X,B as q,fD as Te,t as G,aF as w,j as Be,_ as Ue}from"./index-ap0ALObO.js";import{d as ze}from"./delete-Ce0TSdK5.js";import{d as Ae}from"./edit-pen-Ci7W0xNM.js";import{R as Ne}from"./refresh-zmagq4lj.js";import{d as Fe}from"./menu-DpbF6EVM.js";import{A as Me}from"./add-circle-line-Cw_F_RXn.js";import{d as je}from"./check-CIQVCvCT.js";import"./form.vue_vue_type_script_setup_true_lang-Dwbn54QL.js";import"./hooks-CDei0AZR.js";import"./system-B0iv0SiJ.js";import"./sortable.esm-CkCitmyH.js";import"./epTheme-DiWOo5Q8.js";import"./collapse-CofkMCfY.js";const Oe={class:"main"},Ee={key:0,class:"flex-auto mt-2 px-2 pb-2 bg-bg_color ml-2 overflow-auto"},Le={class:"flex justify-between w-full px-3 pt-5 pb-4"},He={class:"flex"},Qe={class:"font-bold truncate"},We={class:"flex flex-wrap"},Xe=we({name:"TenantPackage",__name:"index",setup(r){const a=Ve(()=>["w-[22px]","h-[22px]","flex","justify-center","items-center","outline-none","rounded-[4px]","cursor-pointer","transition-colors","hover:bg-[#0000000f]","dark:hover:bg-[#ffffff1f]","dark:hover:text-[#ffffffd9]"]),l=g(),v=g(),h=g(),b=g(),x=g(),{form:p,isShow:c,curRow:m,loading:P,columns:J,rowStyle:K,dataList:Y,treeData:Z,treeProps:ee,isLinkage:k,pagination:oe,isExpandAll:V,isSelectAll:R,treeSearchValue:S,onSearch:D,resetForm:te,openDialog:T,handleMenu:B,handleSave:le,handleDelete:ae,filterMethod:ne,transformI18n:se,onQueryChanged:re,handleSizeChange:ie,handleCurrentChange:ce,handleSelectionChange:pe}=ye(l);return Re(()=>{Se(b,()=>H(this,null,function*(){yield $e(),Ie(60).then(()=>{x.value=parseFloat(Pe(h.value.getTableDoms().tableWrapper.style.height,"px"))})}))}),(qe,n)=>{var F;const U=i("el-input"),$=i("el-form-item"),z=i("el-option"),de=i("el-select"),u=i("el-button"),me=i("el-form"),ue=i("el-popconfirm"),fe=i("pure-table"),A=i("IconifyIconOffline"),I=i("el-checkbox"),_e=i("el-tree-v2"),N=De("tippy");return Q(),W("div",Oe,[o(me,{ref_key:"formRef",ref:v,inline:!0,model:e(p),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px] overflow-auto"},{default:s(()=>[o($,{label:"套餐名称：",prop:"name"},{default:s(()=>[o(U,{modelValue:e(p).name,"onUpdate:modelValue":n[0]||(n[0]=t=>e(p).name=t),placeholder:"请输入套餐名称",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),o($,{label:"状态：",prop:"status"},{default:s(()=>[o(de,{modelValue:e(p).status,"onUpdate:modelValue":n[1]||(n[1]=t=>e(p).status=t),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:s(()=>[o(z,{label:"已启用",value:"1"}),o(z,{label:"已停用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o($,null,{default:s(()=>[o(u,{type:"primary",icon:e(f)("ri:search-line"),loading:e(P),onClick:e(D)},{default:s(()=>[_(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(u,{icon:e(f)(e(Ne)),onClick:n[2]||(n[2]=t=>e(te)(v.value))},{default:s(()=>[_(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),d("div",{ref_key:"contentRef",ref:b,class:C(["flex",e(X)()?"flex-wrap":""])},[o(e(Ce),{class:C([e(c)&&!e(X)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},title:"租户套餐（仅演示，操作后不生效）",columns:e(J),onRefresh:e(D)},{buttons:s(()=>[o(u,{type:"primary",icon:e(f)(e(Me)),onClick:n[3]||(n[3]=t=>e(T)())},{default:s(()=>[_(" 新增套餐 ")]),_:1},8,["icon"])]),default:s(({size:t,dynamicColumns:he})=>[o(fe,{ref_key:"tableRef",ref:h,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(P),size:t,adaptive:"","row-style":e(K),adaptiveConfig:{offsetBottom:108},data:e(Y),columns:he,pagination:L(E({},e(oe)),{size:t}),"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(pe),onPageSizeChange:e(ie),onPageCurrentChange:e(ce)},{operation:s(({row:y})=>[o(u,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Ae)),onClick:M=>e(T)("修改",y)},{default:s(()=>[_(" 修改 ")]),_:2},1032,["size","icon","onClick"]),o(ue,{title:`是否确认删除套餐名称为${y.name}的这条数据`,onConfirm:M=>e(ae)(y)},{reference:s(()=>[o(u,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(ze))},{default:s(()=>[_(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(u,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(f)(e(Fe)),onClick:M=>e(B)(y)},{default:s(()=>[_(" 权限 ")]),_:2},1032,["size","icon","onClick"])]),_:2},1032,["loading","size","row-style","data","columns","pagination","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["class","columns","onRefresh"]),e(c)?(Q(),W("div",Ee,[d("div",Le,[d("div",He,[d("span",{class:C(a.value)},[q(o(A,{class:"dark:text-white",width:"18px",height:"18px",icon:e(Te),onClick:e(B)},null,8,["icon","onClick"]),[[N,{content:"关闭"}]])],2),d("span",{class:C([a.value,"ml-2"])},[q(o(A,{class:"dark:text-white",width:"18px",height:"18px",icon:e(je),onClick:e(le)},null,8,["icon","onClick"]),[[N,{content:"保存菜单权限"}]])],2)]),d("p",Qe," 菜单权限 "+G(`${(F=e(m))!=null&&F.name?`（${e(m).name}）`:""}`),1)]),o(U,{modelValue:e(S),"onUpdate:modelValue":n[4]||(n[4]=t=>w(S)?S.value=t:null),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:e(re)},null,8,["modelValue","onInput"]),d("div",We,[o(I,{modelValue:e(V),"onUpdate:modelValue":n[5]||(n[5]=t=>w(V)?V.value=t:null),label:"展开/折叠"},null,8,["modelValue"]),o(I,{modelValue:e(R),"onUpdate:modelValue":n[6]||(n[6]=t=>w(R)?R.value=t:null),label:"全选/全不选"},null,8,["modelValue"]),o(I,{modelValue:e(k),"onUpdate:modelValue":n[7]||(n[7]=t=>w(k)?k.value=t:null),label:"父子联动"},null,8,["modelValue"])]),o(_e,{ref_key:"treeRef",ref:l,"show-checkbox":"",data:e(Z),props:e(ee),height:x.value,"check-strictly":!e(k),"filter-method":e(ne)},{default:s(({node:t})=>[d("span",null,G(e(se)(t.label)),1)]),_:1},8,["data","props","height","check-strictly","filter-method"])])):Be("",!0)],2)])}}}),uo=Ue(Xe,[["__scopeId","data-v-aed77115"]]);export{uo as default};
